<div class="table-filter-wrapper">
  <tst:if compare="showLegend" operator="EQ" against="true">
    <div class="table-filter-legend-wrap">
      <button class="trigger-table-filter-legend"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" role="img"><title>Suchoptionen</title><path fill="none" d="M0 0h24v24H0z"/><path d="M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16zm-1-5h2v2h-2v-2zm2-1.645V14h-2v-1.5a1 1 0 0 1 1-1 1.5 1.5 0 1 0-1.471-1.794l-1.962-.393A3.501 3.501 0 1 1 13 13.355z"/></svg></button>
      <div class="table-filter-legend">
        <dl><dt>.</dt><dd>Feld ist nicht leer</dd></dl>
        <dl><dt>!term</dt><dd>Feld enthält "term" nicht</dd></dl>
        <dl><dt>+term</dt><dd>Feld muss "term" enthalten</dd></dl>
        <dl><dt>_</dt><dd>Feld ist leer</dd></dl>
        <dl><dt>%</dt><dd>Wildcard</dd></dl>
        <dl><dt>*</dt><dd>Wildcard</dd></dl>
        <dl><dt>"term1 term2"</dt><dd>Exakte Übereinstimmung</dd></dl>
      </div>
    </div>
  </tst:if>
  <form method="post" action="{tst:text value='formAction'}" class="form-tablefilter">
    {tst:text value='csrfField'}
    <div class="table-filter-primary-wrap">
      <ul class="table-filter table-filter-primary">
        <tst:for value="primaryFields" var="field">
          <li>
            <tst:if compare="field.highlight" operator="EQ" against="true">
              <label class="highlight">
                {tst:text value='field.label'}
                {tst:text value='field.html'}
              </label>
            </tst:if>
            <tst:else>
              <label>
                {tst:text value='field.label'}
                {tst:text value='field.html'}
              </label>
            </tst:else>
          </li>
        </tst:for>
      </ul>
      <tst:if compare="hasSecondaryFilters" operator="EQ" against="true">
        <tst:if compare="isSecondaryFilterTriggered" operator="EQ" against="true">
          <button type="button" class="trigger-table-filter-secondary triggered"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" role="img"><title>Erweiterte Suche</title><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V7h2v4h4v2h-4v4h-2v-4H7v-2h4zm1 11C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z"/></svg></button>
        </tst:if>
        <tst:else>
          <button type="button" class="trigger-table-filter-secondary"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="24" height="24" role="img"><title>Erweiterte Suche</title><path fill="none" d="M0 0h24v24H0z"/><path d="M11 11V7h2v4h4v2h-4v4h-2v-4H7v-2h4zm1 11C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-2a8 8 0 1 0 0-16 8 8 0 0 0 0 16z"/></svg></button>
        </tst:else>
      </tst:if>
    </div>
    <tst:if compare="hasSecondaryFilters" operator="EQ" against="true">
      <div class="table-filter-wrap">
        <ul class="table-filter table-filter-secondary">
          <tst:for value="secondaryFields" var="field">
            <li>
              <tst:if compare="field.highlight" operator="EQ" against="true">
                <label class="highlight">
                  {tst:text value='field.label'}
                  {tst:text value='field.html'}
                </label>
              </tst:if>
              <tst:else>
                <label>
                  {tst:text value='field.label'}
                  {tst:text value='field.html'}
                </label>
              </tst:else>
            </li>
          </tst:for>
        </ul>
      </div>
    </tst:if>
    <div class="form-control">
      <button type="submit">{tst:text value='submitButtonLabel'}</button>
      <a class="reset-filter" href="{tst:text value='resetHref'}">{tst:text value='resetLinkLabel'}</a>
    </div>
  </form>
</div>